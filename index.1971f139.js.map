{"mappings":";;;;;;;;AASA,MAAMA,UACJC,SAAqB,UACrBA,SAAmB,QACnBA,SAAkB,OAClBA,SAAyB,cACzBA,SAAuB,YACvBA,SAA8B,mBAC9BA,SAAmB,WACnBA,SAAmB,WACnBA,SAAmB,WACnBA,SAA0B,kBAC1BA,SAA0B,GAE1BA,SAAoB,GAEpBA,mCACE,IAAIC,GAAmB,EACvB,IACE,MAAMC,EAAUC,OAAOC,eAAe,GAAI,UAAW,CACnDC,MACEJ,GAAmB,C,IAGvBK,OAAOC,iBAAiB,sBAAuB,KAAML,GACrDI,OAAOE,oBAAoB,sBAAuB,KAAMN,E,CACxD,MAAOO,GACPR,GAAmB,C,CAErB,OAAOA,C,CAGTS,GACAC,GAOAC,YAAYC,EAAIH,EAAS,GAAII,EAAS,eACpCC,MAAKJ,EAAS,CACZG,SACAD,KACAG,UAAWH,EAAGI,cAAc,IAAIH,IAASC,KAAKH,aAAYM,KAC1DC,QAASN,EAAGI,cAAc,IAAIH,IAASC,KAAKH,aAAYQ,KACxDC,WAAYR,EAAGS,iBAAiB,IAAIR,IAASC,KAAKH,aAAYW,KAC9DC,QAASX,EAAGI,cAAc,IAAIH,IAASC,KAAKH,aAAYa,KACxDC,QAASb,EAAGI,cAAc,IAAIH,IAASC,KAAKH,aAAYe,KACxDC,aAAcd,EAASC,KAAKH,aAAYiB,EACxCC,WAAY,EACZC,WAAY,EACZC,UAAW,KACXC,UAAW,KACXC,eAAgB,EAChBC,eAAgB,EAChBC,UAAW,OACXC,WAAY,KACZC,WAAW,EACXC,OAAQ,EACRC,OAAQ,GAGVzB,MAAKL,EAAU,CACb+B,MAAM,EAAML,UAAW,OAAQM,UAAU,EAAOC,SAAU,IAAMC,SAAS,EAAMC,OAAO,KAASnC,GAGjGK,MAAK+B,IACL/B,MAAKgC,G,CAQP/C,mBAAmBgD,GACjB,MAAMC,EAAQlC,MAAKmC,EAAWC,MAAMtC,GAAOA,EAAGuC,SAAWJ,IACzD,OAAIC,EACKA,EAAMI,SAER,I,CAQTrD,2BAA2BoD,EAAQ1C,EAAS,GAAII,EAAS,eACvD,MAAMkC,EAA6B,iBAAXI,EAAsBE,SAASrC,cAAcmC,GAAUA,EACzEG,EAASxC,KAAKyC,YAAYR,GAChC,GAAIO,EACF,OAAOA,EAET,MAAME,EAAS,IAAI1C,KAAKiC,EAAUtC,EAAQI,GAE1C,OADAC,MAAKmC,EAAWQ,KAAK,CAAEN,OAAQJ,EAAUK,SAAUI,IAC5CA,C,CAIoDzD,yBAC3DsD,SAAShC,iBAAiB,8BAA8BqC,SAAS9C,IAC/D,MAAM+C,QAAEA,GAAY/C,EACdgD,EAAS,GACf1D,OAAO2D,KAAKF,GAASD,SAASI,IAC5B,GAAY,WAARA,EACF,OAEF,IAAIC,EAAQJ,EAAQG,GACpBC,EAAQC,OAAOC,MAAMD,OAAOD,IAAUA,EAAQC,OAAOD,GACrDA,EAAkB,SAAVA,GAA0BA,EAClCA,EAAkB,UAAVA,GAA4BA,EACpCH,EAAOE,GAAOC,CAAK,IAErBjD,KAAKoD,oBAAoBtD,EAAIgD,EAAO,G,CAIxCO,YACErD,MAAKJ,EAAOyB,UAAY,OACxBrB,MAAKsD,G,CAGPC,YACEvD,MAAKJ,EAAOyB,UAAY,OACxBrB,MAAKsD,G,CAGPE,QAAQC,GACNzD,MAAK0D,EAAQD,E,CAGfE,QACE3D,MAAK2D,G,CAGHhC,eACF,MAAO,CAELiC,MAAO,KACL5D,MAAKL,EAAQgC,UAAW,EACxB3B,MAAK2B,GAAW,EAGlBkC,KAAM,KACJ7D,MAAK2B,EAAU,QACf3B,MAAKL,EAAQgC,UAAW,CAAK,E,CAKnCmC,UACE9D,MAAK+D,IACL,MAAMC,EAAsBhE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYoE,EAC5DC,EAAclE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYsE,EAC1DnE,MAAK2B,EAAU,QACf3B,MAAKJ,EAAOQ,QAAQgE,UAAUC,IAAIL,GAClChE,MAAKJ,EAAOQ,QAAQkE,MAAMC,UAAY,GACtCvE,MAAKJ,EAAOU,WAAWsC,SAAS9C,IAC9BA,EAAGwE,MAAMC,UAAY,GACrBzE,EAAGsE,UAAUI,OAAON,EAAY,IAElC,MAAMO,EAAgB,GAAGzE,MAAKJ,EAAOG,SAASC,KAAKH,aAAY6E,IAC/DnC,SAAShC,iBAAiB,IAAIkE,KAAiB7B,SAAS9C,IACtDA,EAAGsE,UAAUI,OAAOC,EAAc,IAEpCzE,MAAKJ,EAAOQ,QAAQuE,aACpB3E,MAAKJ,EAAOQ,QAAQgE,UAAUI,OAAOR,GACrC,MAAMP,EAAQzD,KAAKH,aAAYsC,EAAWyC,WAAW9E,GAAOA,EAAGuC,SAAWrC,MAAKJ,EAAOE,KACtFE,KAAKH,aAAYsC,EAAW0C,OAAOpB,EAAO,E,CAG5CqB,GAASC,GAIP,GAHI/E,MAAKJ,EAAOoF,UACdD,EAAEE,kBAEEF,EAAE1C,OAAO6C,QAAQ,qBAAsBH,EAAE1C,OAAO6C,QAAQ,0BAC5D,OAEF,MAAMC,EAAenF,MAAKJ,EAAOG,OAASC,KAAKH,aAAYa,EACrD0E,EAAepF,MAAKJ,EAAOG,OAASC,KAAKH,aAAYe,EAE3D,GADAZ,MAAK2B,EAAU,QACXoD,EAAE1C,OAAO6C,QAAQ,IAAIC,MAAmBJ,EAAE1C,OAAO6C,QAAQ,IAAIE,KAC/DpF,MAAKJ,EAAOyB,UAAY0D,EAAE1C,OAAO6C,QAAQ,IAAIC,KAAkB,OAAS,OACxEnF,MAAKsD,SACA,GAAIyB,EAAE1C,OAAOQ,QAAQW,QAAS,CACnC,MAAMC,EAAQ4B,SAASN,EAAE1C,OAAOQ,QAAQW,QAAS,IACjDxD,MAAK0D,EAAQD,E,CAEfzD,MAAKL,EAAQ+B,MAAO1B,MAAK2B,G,CAG3B2D,KACEtF,MAAK2B,EAAU,O,CAGjB4D,KACEvF,MAAK2B,G,CAGP6D,KACE,GAAIxF,MAAKL,EAAQ+B,KAAM,CACrB,GAAI1B,MAAKJ,EAAO6F,YACd,OAEFzF,MAAKJ,EAAO6F,aAAc,EAC1BlG,OAAOmG,uBAAsB,KAC3B1F,MAAK2F,GAAc,EAAM,G,EAK/BC,KACM5F,MAAKL,EAAQ+B,OACf1B,MAAKJ,EAAO6F,aAAc,E,CAI9BI,GAAaC,GACXA,EAAEb,gB,CAGJc,KACmC,WAA7BxD,SAASyD,gBACXhG,MAAK2B,EAAU,QACuB,YAA7BY,SAASyD,iBAAiChG,MAAKL,EAAQ+B,MAChE1B,MAAK2B,G,CAITsE,GAAYC,GACVlG,MAAKJ,EAAOoF,UAAW,EACvBhF,MAAK2B,EAAU,QACf,MAAMwE,EAAmC,IAA3BD,EAAEE,KAAKC,OAAO,SAAiBH,EAAEI,QAAQ,GAAKJ,EAC5DlG,MAAKJ,EAAO4B,OAAS2E,EAAMI,QAC3BvG,MAAKJ,EAAO6B,OAAS0E,EAAMK,QAC3BxG,MAAKJ,EAAO2B,WAAY,EACxBvB,MAAKJ,EAAO6G,eAAgB,C,CAG9BC,GAAUC,GACR,IAAK3G,MAAKJ,EAAO2B,UACf,OAEF,MAAM4E,EAAmC,IAA3BQ,EAAEP,KAAKC,OAAO,SAAiBM,EAAEC,eAAe,GAAKD,EAC7DE,EAAc7G,MAAKJ,EAAOK,UAAU6G,wBAC1C,IAAIP,EAAUJ,EAAMI,QAAUM,EAAYE,KAAOF,EAAYE,KAAOZ,EAAMI,QAC1EA,EAAUA,EAAUM,EAAYG,MAAQH,EAAYG,MAAQT,EAC5D,IAAIU,EAAWjH,MAAKJ,EAAO4B,OAAS+E,EACpC,GAAiB,IAAbU,EAEF,YADAjH,MAAKJ,EAAO2B,WAAY,GAG1B,IAAKvB,MAAKL,EAAQ+B,KAAM,CACtB,MAAMwF,EAAgD,IAA/BlH,MAAKJ,EAAOuH,YAAY,IAAYF,GAAY,EACjEG,EAAgBpH,MAAKJ,EAAOuH,YAAYnH,MAAKJ,EAAOuH,YAAYE,OAAS,IAAMJ,GAAY,GAC7FC,GAAkBE,KACpBH,EAAW,E,CAGf,MAAMhE,EAAQgE,EAAYjH,MAAKJ,EAAO0H,MAAS,IACzCtD,EAAsBhE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYoE,EAElE,GADAjE,MAAKJ,EAAOQ,QAAQgE,UAAUI,OAAOR,GACjCf,EAAQjD,KAAKH,aAAY0H,EAAkB,CAC7CvH,MAAKJ,EAAOyB,UAAY,OACxB,IAAImG,EAAQ,EACZ,KAAOA,GAASC,KAAKC,MAAMD,KAAKE,IAAI1E,GAASjD,KAAKH,aAAY0H,GAAoB,KAChFvH,MAAKsD,IACLkE,GAAS,C,MAEN,GAAIvE,GAASjD,KAAKH,aAAY0H,EAAkB,CACrDvH,MAAKJ,EAAOyB,UAAY,OACxB,IAAImG,EAAQ,EACZ,KAAOA,GAASC,KAAKC,MAAMD,KAAKE,IAAI1E,GAASjD,KAAKH,aAAY0H,GAAoB,KAChFvH,MAAKsD,IACLkE,GAAS,C,MAGXxH,MAAKJ,EAAOyB,UAAY,OACxBrB,MAAKsD,IAEPtD,MAAKJ,EAAO2B,WAAY,EACpBvB,MAAKL,EAAQ+B,MACf1B,MAAK2B,IAEP3B,MAAKJ,EAAO6F,aAAc,C,CAG5BmC,GAAWC,GACT,IAAK7H,MAAKJ,EAAO2B,UACf,OAEFvB,MAAKJ,EAAOoF,UAAW,EACvB,MAAMmB,EAAmC,IAA3B0B,EAAEzB,KAAKC,OAAO,SAAiBwB,EAAEjB,eAAe,GAAKiB,EACnE,IAAIZ,EAAWjH,MAAKJ,EAAO4B,OAAS2E,EAAMI,QAC1C,MAAMuB,EAAW9H,MAAKJ,EAAO6B,OAAS0E,EAAMK,QAEtCnF,GADWrB,MAAKJ,EAAOmI,SAAW/H,MAAKJ,EAAOmI,SAAW5B,EAAMI,SACxCJ,EAAMI,QAAU,OAAS,OAEtD,GADAvG,MAAKJ,EAAOmI,SAAW5B,EAAMI,SACxBvG,MAAKJ,EAAO6G,cAAe,CAC9B,GAAIgB,KAAKE,IAAIG,GAAYL,KAAKE,IAAIV,IAAoC,IAAvBQ,KAAKE,IAAIV,GAEtD,YADAjH,MAAKJ,EAAO2B,WAAY,GAG1BvB,MAAKJ,EAAO6G,eAAgB,C,CAG9B,GADAoB,EAAE5C,kBACGjF,MAAKL,EAAQ+B,KAAM,CACtB,MAAMwF,EAAgD,IAA/BlH,MAAKJ,EAAOuH,YAAY,IAAYF,GAAY,EACjEG,EAAgBpH,MAAKJ,EAAOuH,YAAYnH,MAAKJ,EAAOuH,YAAYE,OAAS,IAAMJ,GAAY,GAC7FC,GAAkBE,KACpBH,GAAY,E,CAGhB,MAAMjD,EAAsBhE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYoE,EAClEjE,MAAKJ,EAAOQ,QAAQgE,UAAUC,IAAIL,GAClC,MAAMgE,EAAYhI,MAAKJ,EAAOoI,UAAYf,EAC1CjH,MAAKJ,EAAOQ,QAAQkE,MAAMC,UAAY,eAAeyD,mBACjDhI,MAAKL,EAAQ+B,OACf1B,MAAKJ,EAAOyB,UAAY4F,EAAW,EAAI,OAAS,OAChDjH,MAAKJ,EAAOyB,UAAYA,EACxB9B,OAAOmG,uBAAsB,KAC3B1F,MAAK2F,GAAc,EAAK,I,CAK9B3D,KACEhC,MAAKJ,EAAOqI,OAAS,CACnBC,MAAO,CAAClI,MAAKJ,EAAOE,GAAIE,MAAK8E,EAASqD,KAAKnI,OAAO,GAClDoI,WAAY,CAACpI,MAAKJ,EAAOE,GAAIE,MAAKsF,EAAc6C,KAAKnI,OAAO,GAC5DqI,WAAY,CAACrI,MAAKJ,EAAOE,GAAIE,MAAKuF,EAAc4C,KAAKnI,OAAO,GAC5DsI,gBAAiB,CAACtI,MAAKJ,EAAOQ,QAASJ,MAAKwF,EAAmB2C,KAAKnI,MAAOA,MAAKL,EAAQ+B,MACxF6G,cAAe,CAACvI,MAAKJ,EAAOQ,QAASJ,MAAK4F,EAAiBuC,KAAKnI,MAAOA,MAAKL,EAAQ+B,MACpF8G,WAAY,CAACxI,MAAKJ,EAAOE,GAAIE,MAAKiG,EAAYkC,KAAKnI,MAAOA,MAAKL,EAAQmC,OACvE2G,UAAW,CAACzI,MAAKJ,EAAOE,GAAIE,MAAKiG,EAAYkC,KAAKnI,MAAOA,MAAKL,EAAQmC,OACtE4G,SAAU,CAACnG,SAAUvC,MAAK0G,EAAUyB,KAAKnI,MAAOA,MAAKL,EAAQmC,OAC7D6G,QAAS,CAACpG,SAAUvC,MAAK0G,EAAUyB,KAAKnI,MAAOA,MAAKL,EAAQmC,OAC5D8G,UAAW,CAAC5I,MAAKJ,EAAOE,GAAIE,MAAK4H,EAAWO,KAAKnI,MAAOA,MAAKL,EAAQmC,OACrE+G,UAAW,CAAC7I,MAAKJ,EAAOE,GAAIE,MAAK4H,EAAWO,KAAKnI,MAAOA,MAAKL,EAAQmC,OACrEgH,UAAW,CAAC9I,MAAKJ,EAAOE,GAAIE,MAAK6F,EAAasC,KAAKnI,OAAO,GAC1D+I,iBAAkB,CAACxG,SAAUvC,MAAK+F,EAAoBoC,KAAKnI,OAAO,IAEpEZ,OAAO2D,KAAK/C,MAAKJ,EAAOqI,QAAQrF,SAASwD,IACvC,GAAIpG,MAAKJ,EAAOqI,OAAO7B,GAAM,GAAI,CAC/B,MAAMtG,EAAKE,MAAKJ,EAAOqI,OAAO7B,GAAM,GAC9B4C,EAAKhJ,MAAKJ,EAAOqI,OAAO7B,GAAM,GACpC,GAAa,eAATA,GAAkC,cAATA,EAAsB,CACjD,MAAMjH,IAAUa,KAAKH,YAAYoJ,6BAA8B,CAAEC,SAAS,GAC1EpJ,EAAGN,iBAAiB4G,EAAM4C,EAAI7J,E,MAE9BW,EAAGN,iBAAiB4G,EAAM4C,E,KAIT,IAAIG,gBAAgBC,IACzC7J,OAAOmG,sBAAsB1F,MAAK2D,EAAOwE,KAAKnI,MAAM,IAEvCqJ,QAAQrJ,MAAKJ,EAAOK,U,CAGrC8D,KACE3E,OAAO2D,KAAK/C,MAAKJ,EAAOqI,QAAQrF,SAASwD,IACvC,GAAIpG,MAAKJ,EAAOqI,OAAO7B,GAAM,GAAI,CAC/B,MAAMtG,EAAKE,MAAKJ,EAAOqI,OAAO7B,GAAM,GAC9B4C,EAAKhJ,MAAKJ,EAAOqI,OAAO7B,GAAM,GACpCtG,EAAGL,oBAAoB2G,EAAM4C,E,KAKnCrH,GAAU2H,GACR,GAAKtJ,MAAKL,EAAQgC,SAGlB,MAAe,SAAX2H,GACFC,cAAcvJ,MAAKJ,EAAO0B,iBAC1BtB,MAAKJ,EAAO0B,WAAa,YAGI,OAA3BtB,MAAKJ,EAAO0B,aACdtB,MAAKJ,EAAO0B,WAAakI,aAAY,KACnCxJ,MAAKJ,EAAOyB,UAAuC,SAA3BrB,MAAKL,EAAQ0B,UAAuB,OAAS,OACrErB,MAAKsD,GAAO,GACXtD,MAAKL,EAAQiC,W,CAIpB+D,GAAc8D,GAAO,GACnB,IAAKzJ,MAAKJ,EAAO6F,cAAgBgE,EAC/B,OAEF,MAAM5C,EAAc7G,MAAKJ,EAAOK,UAAU6G,wBACpC4C,EAAc7C,EAAYS,MAAQtH,MAAKJ,EAAO+J,iBAAmB,EACjEC,EAAa5J,MAAKJ,EAAOU,WAAW+G,OAC1C,GAA8B,SAA1BrH,MAAKJ,EAAOyB,UAAsB,CAEpC,GADwBrB,MAAKJ,EAAOqB,UAAU6F,wBAAwBE,MAChDH,EAAYE,KAAO2C,EAAa,CACpD,MAAMG,EAAU7J,MAAKJ,EAAOkK,IAAI1H,MAAM2H,GAASA,EAAKjK,KAAOE,MAAKJ,EAAOqB,YACvE4I,EAAQG,MAAQhK,MAAKJ,EAAOmB,WAAa6I,EACzC,MAAM5B,EAAYhI,MAAKJ,EAAOuB,eAAiByI,EAAa5J,MAAKJ,EAAO0H,MACxEuC,EAAQ7B,UAAYA,EACpBhI,MAAKJ,EAAOqB,UAAUqD,MAAMC,UAAY,eAAeyD,mBACvDhI,MAAKiK,G,MAEF,CAEL,GADuBjK,MAAKJ,EAAOsB,UAAU4F,wBAAwBC,KAChDF,EAAYG,MAAQ0C,EAAa,CACpD,MAAMG,EAAU7J,MAAKJ,EAAOkK,IAAI1H,MAAM2H,GAASA,EAAKjK,KAAOE,MAAKJ,EAAOsB,YACvE2I,EAAQG,MAAQhK,MAAKJ,EAAOoB,WAAa4I,EACzC,MAAM5B,EAAYhI,MAAKJ,EAAOwB,eAAiBwI,EAAa5J,MAAKJ,EAAO0H,MACxEuC,EAAQ7B,UAAYA,EACpBhI,MAAKJ,EAAOsB,UAAUoD,MAAMC,UAAY,eAAeyD,mBACvDhI,MAAKiK,G,EAGJR,GACHlK,OAAOmG,uBAAsB,KAC3B1F,MAAK2F,GAAc,EAAM,G,CAK/BuE,KACE,MAAMhG,EAAclE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYsE,EAC1DnE,MAAKJ,EAAOuH,YAAYvE,SAAQ,CAACmH,EAAMtG,KACjCsG,EACF/J,MAAKJ,EAAOU,WAAWmD,GAAOW,UAAUC,IAAIH,GAE5ClE,MAAKJ,EAAOU,WAAWmD,GAAOW,UAAUI,OAAON,GAEjD,MAAMiG,EAAmBnK,MAAKJ,EAAOE,GAAGS,iBAAiB,IAAIP,MAAKJ,EAAOG,SAASC,KAAKH,aAAYuK,KAC/FD,EAAiB9C,QAAU0C,EAC7BI,EAAiB1G,GAAOW,UAAUC,IAAI,GAAGrE,MAAKJ,EAAOG,SAASC,KAAKH,aAAY6E,KACtEyF,EAAiB9C,SAAW0C,GACrCI,EAAiB1G,GAAOW,UAAUI,OAAO,GAAGxE,MAAKJ,EAAOG,SAASC,KAAKH,aAAY6E,IAAuB,G,CAK/GpB,KACE,GAA8B,SAA1BtD,MAAKJ,EAAOyB,UAAsB,CACpC,MAAMkD,EAAYvE,MAAKJ,EAAOoI,UAE9B,YADAhI,MAAKJ,EAAOQ,QAAQkE,MAAMC,UAAY,eAAeA,mB,CAGvD,MAAM8F,EAAsC,SAA1BrK,MAAKJ,EAAOyB,WAAwBrB,MAAKJ,EAAO0H,MAAQtH,MAAKJ,EAAO0H,MAChF/C,EAAYvE,MAAKJ,EAAOoI,UAAYqC,EAC1C,IAAKrK,MAAKL,EAAQ+B,KAAM,CACtB,MAAM4I,EAAQtK,MAAKJ,EAAO0H,OAAStH,MAAKJ,EAAOU,WAAW+G,OAASrH,MAAKJ,EAAO+J,kBAC/E,GAAIpF,GAAa+F,GAAS/F,EAAY,EACpC,OAEEvE,MAAKJ,EAAOa,UACdT,MAAKJ,EAAOa,QAAQ2D,UAAUI,OAAOxE,MAAKJ,EAAOiB,cACjDb,MAAKJ,EAAOe,QAAQyD,UAAUI,OAAOxE,MAAKJ,EAAOiB,eAE/Cb,MAAKJ,EAAOa,SAAW8D,KAAe+F,EACxCtK,MAAKJ,EAAOe,QAAQyD,UAAUC,IAAIrE,MAAKJ,EAAOiB,cACrCb,MAAKJ,EAAOa,SAAyB,IAAd8D,GAChCvE,MAAKJ,EAAOa,QAAQ2D,UAAUC,IAAIrE,MAAKJ,EAAOiB,a,CAGpB,SAA1Bb,MAAKJ,EAAOyB,UACdrB,MAAKJ,EAAOuH,YAAc,IAAInH,MAAKJ,EAAOuH,YAAYoD,OAAM,MAAQvK,MAAKJ,EAAOuH,YAAYoD,MAAM,GAAG,IAErGvK,MAAKJ,EAAOuH,YAAc,IAAInH,MAAKJ,EAAOuH,YAAYoD,MAAM,MAAOvK,MAAKJ,EAAOuH,YAAYoD,MAAM,EAAG,IAEtGvK,MAAKkK,IACLlK,MAAKJ,EAAOoI,UAAYzD,EACxBvE,MAAKJ,EAAOQ,QAAQkE,MAAMC,UAAY,eAAeA,kB,CAGvDb,GAAQD,GACN,MAAM+G,EAAQxK,MAAKJ,EAAOuH,YAAYsD,QAAO,CAACC,EAAKC,EAASC,KAC1D,MAAMC,EAAOF,EAAUlH,EAAQmH,EAAeF,EAC9C,OAAOjD,KAAKE,IAAIkD,GAAQpD,KAAKE,IAAI+C,GAAOG,EAAOH,CAAG,GACjD1K,MAAKJ,EAAOuH,YAAYE,QAC3B,GAAc,IAAVmD,EAAa,CACfxK,MAAKJ,EAAOyB,UAAYmJ,EAAQ,EAAI,OAAS,OAC7C,IAAK,IAAIM,EAAI,EAAGA,EAAIrD,KAAKE,IAAI6C,GAAQM,IACnC9K,MAAKsD,G,EAMXvB,KAEoB/B,MAAbJ,EAAOkK,IAAM,GAEH9J,MAAVJ,EAAOoI,UAAY,EAEAhI,MAAnBJ,EAAOuH,YAAc,GAERnH,MAAbJ,EAAO6F,aAAc,EAEL,MAAfsF,EAAMC,WAAWC,iBAAiBjL,MAAKJ,EAAOQ,SAAS2K,MAAQ,EAEnD/K,MAAbJ,EAAO0H,MAAQtH,MAAKJ,EAAOU,WAAW,GAAGwG,wBAAwBQ,MAAQyD,EAExE,MAAAG,EAAelL,MAAKJ,EAAOK,UAAU6G,wBAAwBQ,MAUnE,GAR2BtH,MAAtBJ,EAAO+J,iBAAmBlC,KAAK0D,MAAMD,EAAelL,MAAKJ,EAAO0H,OACrEtH,MAAKJ,EAAOU,WAAWsC,SAAQ,CAAC9C,EAAIsL,KAClCtL,EAAGwE,MAAMC,UAAY,GACrBvE,MAAKJ,EAAOuH,YAAYxE,KAAKyI,EAAQpL,MAAKJ,EAAO+J,iBAAmB,EAAI,GACxE3J,MAAKJ,EAAOkK,IAAInH,KAAK,CACnB7C,KAAI2D,MAAA2H,EAAOpB,MAAOoB,EAAOpD,UAAW,GACpC,IAEAhI,MAAKL,EAAQ+B,KAAM,CACrB,MAAM2J,EAAYrL,MAAKJ,EAAOU,WAAW+G,OAAS,EAC5CW,IAAcqD,EAAY,GAAKrL,MAAKJ,EAAO0H,MACjDtH,MAAKJ,EAAOU,WAAW+K,GAAW/G,MAAMC,UAAY,eAAeyD,mBACnEhI,MAAKJ,EAAOkK,IAAIuB,GAAWrB,OAAQ,EACnChK,MAAKJ,EAAOkK,IAAIuB,GAAWrD,UAAYA,EACvChI,MAAKiK,G,MACIjK,MAAKJ,EAAOa,SACrBT,MAAKJ,EAAOa,QAAQ2D,UAAUC,IAAIrE,MAAKJ,EAAOiB,cAEhDb,MAAKkK,IACLlK,MAAK2B,G,CAGPgC,KACE,MAAMK,EAAsBhE,MAAKJ,EAAOG,OAASC,KAAKH,aAAYoE,EAE5D8G,EAAMC,WAAWC,iBAAiBjL,MAAKJ,EAAOQ,SAAS2K,MAAQ,EAE/DV,EAAYrK,MAAKJ,EAAOU,WAAW,GAAGwG,wBAAwBQ,MAAQyD,EACtEG,EAAelL,MAAKJ,EAAOK,UAAU6G,wBAAwBQ,MAC7DgE,EAAiB7D,KAAK0D,MAAMD,EAAeb,GAC7CA,IAAcrK,MAAKJ,EAAO0H,OAASgE,IAAmBtL,MAAKJ,EAAO+J,mBAGtE3J,MAAK2B,EAAU,QACf3B,MAAKJ,EAAOQ,QAAQgE,UAAUC,IAAIL,GAClChE,MAAKJ,EAAOQ,QAAQkE,MAAMC,UAAY,+BACtCvE,MAAK+B,IACLxC,OAAOmG,uBAAsB,KAC3B1F,MAAKJ,EAAOQ,QAAQgE,UAAUI,OAAOR,EAAoB,I,CAI7DiG,KACE,MAAMH,EAAM9J,MAAKJ,EAAOkK,IAAIyB,KAAKxB,GAASA,EAAKjK,KACzC0L,EAASxL,MAAKJ,EAAOkK,IAAIyB,KAAKxB,GAASA,EAAKC,QAClDhK,MAAKJ,EAAOmB,WAAa0G,KAAKgE,OAAOD,GACrCxL,MAAKJ,EAAOoB,WAAayG,KAAKiE,OAAOF,GACrC,MAAMC,EAAMD,EAAOG,QAAQ3L,MAAKJ,EAAOmB,YACjC2K,EAAMF,EAAOG,QAAQ3L,MAAKJ,EAAOoB,YACvChB,MAAKJ,EAAOqB,UAAY6I,EAAI2B,GAC5BzL,MAAKJ,EAAOsB,UAAY4I,EAAI4B,GAC5B1L,MAAKJ,EAAOuB,eAAiBnB,MAAKJ,EAAOkK,IAAI2B,GAAKzD,UAClDhI,MAAKJ,EAAOwB,eAAiBpB,MAAKJ,EAAOkK,IAAI4B,GAAK1D,S,EAItDhJ,UAAU4M","sources":["src/assets/itc-slider.js"],"sourcesContent":["/**\n * @class ItcSlider\n * @version 1.0.1\n * @author https://github.com/itchief\n * @copyright Alexander Maltsev 2020 - 2023\n * @license MIT (https://github.com/itchief/ui-components/blob/master/LICENSE)\n * @tutorial https://itchief.ru/javascript/slider\n */\n\nclass ItcSlider {\n  static #EL_WRAPPER = 'wrapper';\n  static #EL_ITEMS = 'items';\n  static #EL_ITEM = 'item';\n  static #EL_ITEM_ACTIVE = 'item-active';\n  static #EL_INDICATOR = 'indicator';\n  static #EL_INDICATOR_ACTIVE = 'indicator-active';\n  static #BTN_PREV = 'btn-prev';\n  static #BTN_NEXT = 'btn-next';\n  static #BTN_HIDE = 'btn-hide';\n  static #TRANSITION_NONE = 'transition-none';\n  static #SWIPE_THRESHOLD = 20;\n\n  static #instances = [];\n\n  static checkSupportPassiveEvents() {\n    let passiveSupported = false;\n    try {\n      const options = Object.defineProperty({}, 'passive', {\n        get() {\n          passiveSupported = true;\n        },\n      });\n      window.addEventListener('testPassiveListener', null, options);\n      window.removeEventListener('testPassiveListener', null, options);\n    } catch (error) {\n      passiveSupported = false;\n    }\n    return passiveSupported;\n  }\n\n  #config;\n  #state;\n\n  /**\n   * @param {HTMLElement} el\n   * @param {Object} config\n   * @param {String} prefix\n   */\n  constructor(el, config = {}, prefix = 'itc-slider-') {\n    this.#state = {\n      prefix, // префикс для классов\n      el, // элемент который нужно активировать как ItcSlider\n      elWrapper: el.querySelector(`.${prefix}${this.constructor.#EL_WRAPPER}`), // элемент с #CLASS_WRAPPER\n      elItems: el.querySelector(`.${prefix}${this.constructor.#EL_ITEMS}`), // элемент, в котором находятся слайды\n      elListItem: el.querySelectorAll(`.${prefix}${this.constructor.#EL_ITEM}`), // список элементов, являющиеся слайдами\n      btnPrev: el.querySelector(`.${prefix}${this.constructor.#BTN_PREV}`), // кнопка, для перехода к предыдущему слайду\n      btnNext: el.querySelector(`.${prefix}${this.constructor.#BTN_NEXT}`), // кнопка, для перехода к следующему слайду\n      btnClassHide: prefix + this.constructor.#BTN_HIDE, // класс для скрытия кнопки\n      exOrderMin: 0,\n      exOrderMax: 0,\n      exItemMin: null,\n      exItemMax: null,\n      exTranslateMin: 0,\n      exTranslateMax: 0,\n      direction: 'next', // направление смены слайдов\n      intervalId: null, // id таймера\n      isSwiping: false,\n      swipeX: 0,\n      swipeY: 0,\n    };\n\n    this.#config = {\n      loop: true, direction: 'next', autoplay: false, interval: 5000, refresh: true, swipe: true, ...config\n    };\n\n    this.#init();\n    this.#attachEvents();\n  }\n\n  /**\n   * Статический метод, который возвращает экземпляр ItcSlider, связанный с DOM-элементом\n   * @param {HTMLElement} elSlider\n   * @returns {?ItcSlider}\n   */\n  static getInstance(elSlider) {\n    const found = this.#instances.find((el) => el.target === elSlider);\n    if (found) {\n      return found.instance;\n    }\n    return null;\n  }\n\n  /**\n   * @param {String|HTMLElement} target\n   * @param {Object} config\n   * @param {String} prefix\n   */\n  static getOrCreateInstance(target, config = {}, prefix = 'itc-slider-') {\n    const elSlider = typeof target === 'string' ? document.querySelector(target) : target;\n    const result = this.getInstance(elSlider);\n    if (result) {\n      return result;\n    }\n    const slider = new this(elSlider, config, prefix);\n    this.#instances.push({ target: elSlider, instance: slider });\n    return slider;\n  }\n\n  // статический метод для активирования элементов как ItcSlider на основе data-атрибутов\n  static createInstances() {\n    document.querySelectorAll('[data-slider=\"itc-slider\"]').forEach((el) => {\n      const { dataset } = el;\n      const params = {};\n      Object.keys(dataset).forEach((key) => {\n        if (key === 'slider') {\n          return;\n        }\n        let value = dataset[key];\n        value = Number.isNaN(Number(value)) ? value : Number(value);\n        value = value === 'true' ? true : value;\n        value = value === 'false' ? false : value;\n        params[key] = value;\n      });\n      this.getOrCreateInstance(el, params);\n    });\n  }\n\n  slideNext() {\n    this.#state.direction = 'next';\n    this.#move();\n  }\n\n  slidePrev() {\n    this.#state.direction = 'prev';\n    this.#move();\n  }\n\n  slideTo(index) {\n    this.#moveTo(index);\n  }\n\n  reset() {\n    this.#reset();\n  }\n\n  get autoplay() {\n    return {\n      // Start autoplay\n      start: () => {\n        this.#config.autoplay = true;\n        this.#autoplay();\n      },\n      // Stop autoplay\n      stop: () => {\n        this.#autoplay('stop');\n        this.#config.autoplay = false;\n      }\n    };\n  }\n\n  dispose() {\n    this.#detachEvents();\n    const transitionNoneClass = this.#state.prefix + this.constructor.#TRANSITION_NONE;\n    const activeClass = this.#state.prefix + this.constructor.#EL_ITEM_ACTIVE;\n    this.#autoplay('stop');\n    this.#state.elItems.classList.add(transitionNoneClass);\n    this.#state.elItems.style.transform = '';\n    this.#state.elListItem.forEach((el) => {\n      el.style.transform = '';\n      el.classList.remove(activeClass);\n    });\n    const selIndicators = `${this.#state.prefix}${this.constructor.#EL_INDICATOR_ACTIVE}`;\n    document.querySelectorAll(`.${selIndicators}`).forEach((el) => {\n      el.classList.remove(selIndicators);\n    });\n    this.#state.elItems.offsetHeight;\n    this.#state.elItems.classList.remove(transitionNoneClass);\n    const index = this.constructor.#instances.findIndex((el) => el.target === this.#state.el);\n    this.constructor.#instances.splice(index, 1);\n  }\n\n  #onClick(e) {\n    if (this.#state.isMoving) {\n      e.preventDefault();\n    }\n    if (!(e.target.closest('.itc-slider-btn') || e.target.closest('.itc-slider-indicators'))) {\n      return;\n    }\n    const classBtnPrev = this.#state.prefix + this.constructor.#BTN_PREV;\n    const classBtnNext = this.#state.prefix + this.constructor.#BTN_NEXT;\n    this.#autoplay('stop');\n    if (e.target.closest(`.${classBtnPrev}`) || e.target.closest(`.${classBtnNext}`)) {\n      this.#state.direction = e.target.closest(`.${classBtnPrev}`) ? 'prev' : 'next';\n      this.#move();\n    } else if (e.target.dataset.slideTo) {\n      const index = parseInt(e.target.dataset.slideTo, 10);\n      this.#moveTo(index);\n    }\n    this.#config.loop ? this.#autoplay() : null;\n  }\n\n  #onMouseEnter() {\n    this.#autoplay('stop');\n  }\n\n  #onMouseLeave() {\n    this.#autoplay();\n  }\n\n  #onTransitionStart() {\n    if (this.#config.loop) {\n      if (this.#state.isBalancing) {\n        return;\n      }\n      this.#state.isBalancing = true;\n      window.requestAnimationFrame(() => {\n        this.#balanceItems(false);\n      });\n    }\n  }\n\n  #onTransitionEnd() {\n    if (this.#config.loop) {\n      this.#state.isBalancing = false;\n    }\n  }\n\n  #onDragStart(e) {\n    e.preventDefault();\n  }\n\n  #onVisibilityChange() {\n    if (document.visibilityState === 'hidden') {\n      this.#autoplay('stop');\n    } else if (document.visibilityState === 'visible' && this.#config.loop) {\n      this.#autoplay();\n    }\n  }\n\n  #touchStart(e) {\n    this.#state.isMoving = false;\n    this.#autoplay('stop');\n    const event = e.type.search('touch') === 0 ? e.touches[0] : e;\n    this.#state.swipeX = event.clientX;\n    this.#state.swipeY = event.clientY;\n    this.#state.isSwiping = true;\n    this.#state.isTouchMoving = false;\n  }\n\n  #touchEnd(e) {\n    if (!this.#state.isSwiping) {\n      return;\n    }\n    const event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\n    const wrapperRect = this.#state.elWrapper.getBoundingClientRect();\n    let clientX = event.clientX < wrapperRect.left ? wrapperRect.left : event.clientX;\n    clientX = clientX > wrapperRect.right ? wrapperRect.right : clientX;\n    let diffPosX = this.#state.swipeX - clientX;\n    if (diffPosX === 0) {\n      this.#state.isSwiping = false;\n      return;\n    }\n    if (!this.#config.loop) {\n      const isNotMoveFirst = this.#state.activeItems[0] === 1 && diffPosX <= 0;\n      const isNotMoveLast = this.#state.activeItems[this.#state.activeItems.length - 1] && diffPosX >= 0;\n      if (isNotMoveFirst || isNotMoveLast) {\n        diffPosX = 0;\n      }\n    }\n    const value = (diffPosX / this.#state.width) * 100;\n    const transitionNoneClass = this.#state.prefix + this.constructor.#TRANSITION_NONE;\n    this.#state.elItems.classList.remove(transitionNoneClass);\n    if (value > this.constructor.#SWIPE_THRESHOLD) {\n      this.#state.direction = 'next';\n      let count = 0;\n      while (count <= Math.floor(Math.abs(value) - this.constructor.#SWIPE_THRESHOLD) / 100) {\n        this.#move();\n        count += 1;\n      }\n    } else if (value < -this.constructor.#SWIPE_THRESHOLD) {\n      this.#state.direction = 'prev';\n      let count = 0;\n      while (count <= Math.floor(Math.abs(value) - this.constructor.#SWIPE_THRESHOLD) / 100) {\n        this.#move();\n        count += 1;\n      }\n    } else {\n      this.#state.direction = 'none';\n      this.#move();\n    }\n    this.#state.isSwiping = false;\n    if (this.#config.loop) {\n      this.#autoplay();\n    }\n    this.#state.isBalancing = false;\n  }\n\n  #touchMove(e) {\n    if (!this.#state.isSwiping) {\n      return;\n    }\n    this.#state.isMoving = true;\n    const event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\n    let diffPosX = this.#state.swipeX - event.clientX;\n    const diffPosY = this.#state.swipeY - event.clientY;\n    const prevPosX = this.#state.prevPosX ? this.#state.prevPosX : event.clientX;\n    const direction = prevPosX > event.clientX ? 'next' : 'prev';\n    this.#state.prevPosX = event.clientX;\n    if (!this.#state.isTouchMoving) {\n      if (Math.abs(diffPosY) > Math.abs(diffPosX) || Math.abs(diffPosX) === 0) {\n        this.#state.isSwiping = false;\n        return;\n      }\n      this.#state.isTouchMoving = true;\n    }\n    e.preventDefault();\n    if (!this.#config.loop) {\n      const isNotMoveFirst = this.#state.activeItems[0] === 1 && diffPosX <= 0;\n      const isNotMoveLast = this.#state.activeItems[this.#state.activeItems.length - 1] && diffPosX >= 0;\n      if (isNotMoveFirst || isNotMoveLast) {\n        diffPosX /= 4;\n      }\n    }\n    const transitionNoneClass = this.#state.prefix + this.constructor.#TRANSITION_NONE;\n    this.#state.elItems.classList.add(transitionNoneClass);\n    const translate = this.#state.translate - diffPosX;\n    this.#state.elItems.style.transform = `translate3D(${translate}px, 0px, 0.1px)`;\n    if (this.#config.loop) {\n      this.#state.direction = diffPosX > 0 ? 'next' : 'prev';\n      this.#state.direction = direction;\n      window.requestAnimationFrame(() => {\n        this.#balanceItems(true);\n      });\n    }\n  }\n\n  #attachEvents() {\n    this.#state.events = {\n      click: [this.#state.el, this.#onClick.bind(this), true],\n      mouseenter: [this.#state.el, this.#onMouseEnter.bind(this), true],\n      mouseleave: [this.#state.el, this.#onMouseLeave.bind(this), true],\n      transitionstart: [this.#state.elItems, this.#onTransitionStart.bind(this), this.#config.loop],\n      transitionend: [this.#state.elItems, this.#onTransitionEnd.bind(this), this.#config.loop],\n      touchstart: [this.#state.el, this.#touchStart.bind(this), this.#config.swipe],\n      mousedown: [this.#state.el, this.#touchStart.bind(this), this.#config.swipe],\n      touchend: [document, this.#touchEnd.bind(this), this.#config.swipe],\n      mouseup: [document, this.#touchEnd.bind(this), this.#config.swipe],\n      touchmove: [this.#state.el, this.#touchMove.bind(this), this.#config.swipe],\n      mousemove: [this.#state.el, this.#touchMove.bind(this), this.#config.swipe],\n      dragstart: [this.#state.el, this.#onDragStart.bind(this), true],\n      visibilitychange: [document, this.#onVisibilityChange.bind(this), true]\n    };\n    Object.keys(this.#state.events).forEach((type) => {\n      if (this.#state.events[type][2]) {\n        const el = this.#state.events[type][0];\n        const fn = this.#state.events[type][1];\n        if (type === 'touchstart' || type === 'touchmove') {\n          const options = this.constructor.checkSupportPassiveEvents() ? { passive: false } : false;\n          el.addEventListener(type, fn, options);\n        } else {\n          el.addEventListener(type, fn);\n        }\n      }\n    });\n    const resizeObserver = new ResizeObserver((entries) => {\n      window.requestAnimationFrame(this.#reset.bind(this));\n    });\n    resizeObserver.observe(this.#state.elWrapper);\n  }\n\n  #detachEvents() {\n    Object.keys(this.#state.events).forEach((type) => {\n      if (this.#state.events[type][2]) {\n        const el = this.#state.events[type][0];\n        const fn = this.#state.events[type][1];\n        el.removeEventListener(type, fn);\n      }\n    });\n  }\n\n  #autoplay(action) {\n    if (!this.#config.autoplay) {\n      return;\n    }\n    if (action === 'stop') {\n      clearInterval(this.#state.intervalId);\n      this.#state.intervalId = null;\n      return;\n    }\n    if (this.#state.intervalId === null) {\n      this.#state.intervalId = setInterval(() => {\n        this.#state.direction = this.#config.direction === 'prev' ? 'prev' : 'next';\n        this.#move();\n      }, this.#config.interval);\n    }\n  }\n\n  #balanceItems(once = false) {\n    if (!this.#state.isBalancing && !once) {\n      return;\n    }\n    const wrapperRect = this.#state.elWrapper.getBoundingClientRect();\n    const targetWidth = wrapperRect.width / this.#state.countActiveItems / 2;\n    const countItems = this.#state.elListItem.length;\n    if (this.#state.direction === 'next') {\n      const exItemRectRight = this.#state.exItemMin.getBoundingClientRect().right;\n      if (exItemRectRight < wrapperRect.left - targetWidth) {\n        const elFound = this.#state.els.find((item) => item.el === this.#state.exItemMin);\n        elFound.order = this.#state.exOrderMin + countItems;\n        const translate = this.#state.exTranslateMin + countItems * this.#state.width;\n        elFound.translate = translate;\n        this.#state.exItemMin.style.transform = `translate3D(${translate}px, 0px, 0.1px)`;\n        this.#updateExProperties();\n      }\n    } else {\n      const exItemRectLeft = this.#state.exItemMax.getBoundingClientRect().left;\n      if (exItemRectLeft > wrapperRect.right + targetWidth) {\n        const elFound = this.#state.els.find((item) => item.el === this.#state.exItemMax);\n        elFound.order = this.#state.exOrderMax - countItems;\n        const translate = this.#state.exTranslateMax - countItems * this.#state.width;\n        elFound.translate = translate;\n        this.#state.exItemMax.style.transform = `translate3D(${translate}px, 0px, 0.1px)`;\n        this.#updateExProperties();\n      }\n    }\n    if (!once) {\n      window.requestAnimationFrame(() => {\n        this.#balanceItems(false);\n      });\n    }\n  }\n\n  #updateClasses() {\n    const activeClass = this.#state.prefix + this.constructor.#EL_ITEM_ACTIVE;\n    this.#state.activeItems.forEach((item, index) => {\n      if (item) {\n        this.#state.elListItem[index].classList.add(activeClass);\n      } else {\n        this.#state.elListItem[index].classList.remove(activeClass);\n      }\n      const elListIndicators = this.#state.el.querySelectorAll(`.${this.#state.prefix}${this.constructor.#EL_INDICATOR}`);\n      if (elListIndicators.length && item) {\n        elListIndicators[index].classList.add(`${this.#state.prefix}${this.constructor.#EL_INDICATOR_ACTIVE}`);\n      } else if (elListIndicators.length && !item) {\n        elListIndicators[index].classList.remove(`${this.#state.prefix}${this.constructor.#EL_INDICATOR_ACTIVE}`);\n      }\n    });\n  }\n\n  #move() {\n    if (this.#state.direction === 'none') {\n      const transform = this.#state.translate;\n      this.#state.elItems.style.transform = `translate3D(${transform}px, 0px, 0.1px)`;\n      return;\n    }\n    const widthItem = this.#state.direction === 'next' ? -this.#state.width : this.#state.width;\n    const transform = this.#state.translate + widthItem;\n    if (!this.#config.loop) {\n      const limit = this.#state.width * (this.#state.elListItem.length - this.#state.countActiveItems);\n      if (transform < -limit || transform > 0) {\n        return;\n      }\n      if (this.#state.btnPrev) {\n        this.#state.btnPrev.classList.remove(this.#state.btnClassHide);\n        this.#state.btnNext.classList.remove(this.#state.btnClassHide);\n      }\n      if (this.#state.btnPrev && transform === -limit) {\n        this.#state.btnNext.classList.add(this.#state.btnClassHide);\n      } else if (this.#state.btnPrev && transform === 0) {\n        this.#state.btnPrev.classList.add(this.#state.btnClassHide);\n      }\n    }\n    if (this.#state.direction === 'next') {\n      this.#state.activeItems = [...this.#state.activeItems.slice(-1), ...this.#state.activeItems.slice(0, -1)];\n    } else {\n      this.#state.activeItems = [...this.#state.activeItems.slice(1), ...this.#state.activeItems.slice(0, 1)];\n    }\n    this.#updateClasses();\n    this.#state.translate = transform;\n    this.#state.elItems.style.transform = `translate3D(${transform}px, 0px, 0.1px)`;\n  }\n\n  #moveTo(index) {\n    const delta = this.#state.activeItems.reduce((acc, current, currentIndex) => {\n      const diff = current ? index - currentIndex : acc;\n      return Math.abs(diff) < Math.abs(acc) ? diff : acc;\n    }, this.#state.activeItems.length);\n    if (delta !== 0) {\n      this.#state.direction = delta > 0 ? 'next' : 'prev';\n      for (let i = 0; i < Math.abs(delta); i++) {\n        this.#move();\n      }\n    }\n  }\n\n  // приватный метод для выполнения первичной инициализации\n  #init() {\n    // состояние элементов\n    this.#state.els = [];\n    // текущее значение translate\n    this.#state.translate = 0;\n    // позиции активных элементов\n    this.#state.activeItems = [];\n    // состояние элементов\n    this.#state.isBalancing = false;\n    // получаем gap между слайдами\n    const gap = parseFloat(getComputedStyle(this.#state.elItems).gap) || 0;\n    // ширина одного слайда\n    this.#state.width = this.#state.elListItem[0].getBoundingClientRect().width + gap;\n    // ширина #EL_WRAPPER\n    const widthWrapper = this.#state.elWrapper.getBoundingClientRect().width;\n    // количество активных элементов\n    this.#state.countActiveItems = Math.round(widthWrapper / this.#state.width);\n    this.#state.elListItem.forEach((el, index) => {\n      el.style.transform = '';\n      this.#state.activeItems.push(index < this.#state.countActiveItems ? 1 : 0);\n      this.#state.els.push({\n        el, index, order: index, translate: 0\n      });\n    });\n    if (this.#config.loop) {\n      const lastIndex = this.#state.elListItem.length - 1;\n      const translate = -(lastIndex + 1) * this.#state.width;\n      this.#state.elListItem[lastIndex].style.transform = `translate3D(${translate}px, 0px, 0.1px)`;\n      this.#state.els[lastIndex].order = -1;\n      this.#state.els[lastIndex].translate = translate;\n      this.#updateExProperties();\n    } else if (this.#state.btnPrev) {\n      this.#state.btnPrev.classList.add(this.#state.btnClassHide);\n    }\n    this.#updateClasses();\n    this.#autoplay();\n  }\n\n  #reset() {\n    const transitionNoneClass = this.#state.prefix + this.constructor.#TRANSITION_NONE;\n    // получаем gap между слайдами\n    const gap = parseFloat(getComputedStyle(this.#state.elItems).gap) || 0;\n    // ширина одного слайда\n    const widthItem = this.#state.elListItem[0].getBoundingClientRect().width + gap;\n    const widthWrapper = this.#state.elWrapper.getBoundingClientRect().width;\n    const countActiveEls = Math.round(widthWrapper / widthItem);\n    if (widthItem === this.#state.width && countActiveEls === this.#state.countActiveItems) {\n      return;\n    }\n    this.#autoplay('stop');\n    this.#state.elItems.classList.add(transitionNoneClass);\n    this.#state.elItems.style.transform = 'translate3D(0px, 0px, 0.1px)';\n    this.#init();\n    window.requestAnimationFrame(() => {\n      this.#state.elItems.classList.remove(transitionNoneClass);\n    });\n  }\n\n  #updateExProperties() {\n    const els = this.#state.els.map((item) => item.el);\n    const orders = this.#state.els.map((item) => item.order);\n    this.#state.exOrderMin = Math.min(...orders);\n    this.#state.exOrderMax = Math.max(...orders);\n    const min = orders.indexOf(this.#state.exOrderMin);\n    const max = orders.indexOf(this.#state.exOrderMax);\n    this.#state.exItemMin = els[min];\n    this.#state.exItemMax = els[max];\n    this.#state.exTranslateMin = this.#state.els[min].translate;\n    this.#state.exTranslateMax = this.#state.els[max].translate;\n  }\n}\n\nItcSlider.createInstances();\n"],"names":["ItcSlider","static","passiveSupported","options","Object","defineProperty","get","window","addEventListener","removeEventListener","error","config","state","constructor","el","prefix","this","elWrapper","querySelector","EL_WRAPPER","elItems","EL_ITEMS","elListItem","querySelectorAll","EL_ITEM","btnPrev","BTN_PREV","btnNext","BTN_NEXT","btnClassHide","BTN_HIDE","exOrderMin","exOrderMax","exItemMin","exItemMax","exTranslateMin","exTranslateMax","direction","intervalId","isSwiping","swipeX","swipeY","loop","autoplay","interval","refresh","swipe","init","attachEvents","elSlider","found","instances","find","target","instance","document","result","getInstance","slider","push","forEach","dataset","params","keys","key","value","Number","isNaN","getOrCreateInstance","slideNext","move","slidePrev","slideTo","index","moveTo","reset","start","stop","dispose","detachEvents","transitionNoneClass","TRANSITION_NONE","activeClass","EL_ITEM_ACTIVE","classList","add","style","transform","remove","selIndicators","EL_INDICATOR_ACTIVE","offsetHeight","findIndex","splice","onClick","e","isMoving","preventDefault","closest","classBtnPrev","classBtnNext","parseInt","onMouseEnter","onMouseLeave","onTransitionStart","isBalancing","requestAnimationFrame","balanceItems","onTransitionEnd","onDragStart","e1","onVisibilityChange","visibilityState","touchStart","e2","event","type","search","touches","clientX","clientY","isTouchMoving","touchEnd","e3","changedTouches","wrapperRect","getBoundingClientRect","left","right","diffPosX","isNotMoveFirst","activeItems","isNotMoveLast","length","width","SWIPE_THRESHOLD","count","Math","floor","abs","touchMove","e4","diffPosY","prevPosX","translate","events","click","bind","mouseenter","mouseleave","transitionstart","transitionend","touchstart","mousedown","touchend","mouseup","touchmove","mousemove","dragstart","visibilitychange","fn","checkSupportPassiveEvents","passive","ResizeObserver","entries","observe","action","clearInterval","setInterval","once","targetWidth","countActiveItems","countItems","elFound","els","item","order","updateExProperties","updateClasses","elListIndicators","EL_INDICATOR","widthItem","limit","slice","delta","reduce","acc","current","currentIndex","diff","i","gap","parseFloat","getComputedStyle","widthWrapper","round","index1","lastIndex","countActiveEls","map","orders","min","max","indexOf","createInstances"],"version":3,"file":"index.1971f139.js.map"}